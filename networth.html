<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<link rel="icon" href="data:,">
<title>ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ© â€” 2043</title>
<link rel="stylesheet" href="assets/style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="assets/data.js"></script>
<script src="assets/auth.js"></script>
<style>
.asset-section {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  margin-bottom: 20px;
  overflow: hidden;
}
.asset-header {
  padding: 14px 20px;
  background: var(--bg2);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  user-select: none;
}
.asset-header-left {
  display: flex; align-items: center; gap: 10px;
  font-size: 14px; font-weight: 700;
}
.asset-header-right {
  display: flex; align-items: center; gap: 16px;
}
.asset-total {
  font-size: 15px; font-weight: 800;
}
.asset-body { padding: 20px; }

.asset-row {
  display: grid;
  grid-template-columns: 2fr 1.2fr 1.2fr 1fr auto;
  gap: 10px;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid var(--border);
}
.asset-row:last-child { border-bottom: none; }
.asset-row-header {
  font-size: 11px; font-weight: 700;
  color: var(--text3); text-transform: uppercase;
  letter-spacing: .4px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 4px;
}

.liability-row {
  display: grid;
  grid-template-columns: 2fr 1.2fr 1.2fr 1fr 1fr auto;
  gap: 10px;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid var(--border);
}
.liability-row:last-child { border-bottom: none; }

.field-inline {
  padding: 7px 10px;
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text);
  font-size: 13px;
  outline: none;
  width: 100%;
  font-family: inherit;
  transition: border-color .2s;
}
.field-inline:focus { border-color: var(--accent); }
.field-inline::placeholder { color: var(--text3); }

select.field-inline option { background: var(--card); }

/* Net Worth summary */
.nw-summary {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 28px 32px;
  margin-bottom: 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 20px;
}
.nw-main-value {
  font-size: 42px;
  font-weight: 900;
  letter-spacing: -1px;
  background: linear-gradient(135deg, var(--accent), var(--purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.nw-label { font-size: 13px; color: var(--text3); margin-bottom: 4px; }

.progress-row {
  display: flex; align-items: center; gap: 12px;
  margin-top: 8px;
}
.prog-bar-bg {
  flex: 1; height: 8px;
  background: var(--border); border-radius: 4px; overflow: hidden;
}
.prog-bar-fill {
  height: 100%; border-radius: 4px;
  background: linear-gradient(90deg, var(--accent), var(--purple));
  transition: width 1s ease;
}

.collapse-icon { transition: transform .2s; }
.collapsed .collapse-icon { transform: rotate(-90deg); }
.collapsed .asset-body { display: none; }

.linked-badge {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 2px 8px; border-radius: 10px;
  font-size: 10px; font-weight: 700;
  background: rgba(79,142,247,.15); color: var(--accent);
}

.depreciation-note {
  font-size: 11px; color: var(--text3); margin-top: 4px;
}

@media(max-width:768px){
  .asset-row { grid-template-columns: 1fr 1fr; gap:8px; }
  .liability-row { grid-template-columns: 1fr 1fr; gap:8px; }
  .nw-main-value { font-size: 28px; }
}
</style>
</head>
<body>
<script>initPage('networth');</script>

<div class="main">

  <!-- Header -->
  <div class="page-header">
    <div class="page-header-left">
      <h1>ğŸ“Š ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ©</h1>
      <p>Ø­Ø§Ø³Ø¨Ø© Ø´Ø§Ù…Ù„Ø© â€” Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ø·Ø±ÙˆØ­Ø§Ù‹ Ù…Ù†Ù‡Ø§ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª</p>
    </div>
    <div class="page-header-right">
      <button class="btn btn-ghost btn-sm" onclick="exportPDF()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
      <button class="btn btn-primary"      onclick="saveAll()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ÙƒÙ„</button>
    </div>
  </div>

  <!-- Net Worth Summary -->
  <div class="nw-summary" id="nwSummary"></div>

  <!-- KPIs -->
  <div class="kpi-grid cols-4" id="nwKPIs"></div>

  <!-- Charts -->
  <div class="chart-grid cols-2" style="margin-bottom:24px">
    <div class="chart-card">
      <div class="chart-title">ğŸ¥§ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£ØµÙˆÙ„</div>
      <canvas id="assetsChart" height="240"></canvas>
    </div>
    <div class="chart-card">
      <div class="chart-title">âš–ï¸ Ø§Ù„Ø£ØµÙˆÙ„ Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª</div>
      <canvas id="liabChart" height="240"></canvas>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â• 1. Ø§Ù„Ø£Ø³Ù‡Ù… â€” Ù…Ø±Ø¨ÙˆØ·Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ â•â•â•â•â•â•â•â•â•â• -->
  <div class="asset-section" id="sec-stocks">
    <div class="asset-header" onclick="toggleSection('stocks')">
      <div class="asset-header-left">
        <span>ğŸ’¹</span>
        <span>Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø£Ø³Ù‡Ù…</span>
        <span class="linked-badge">ğŸ”— Ù…Ø±Ø¨ÙˆØ· ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</span>
      </div>
      <div class="asset-header-right">
        <span class="asset-total pos" id="stocks-total">â€”</span>
        <span class="collapse-icon">â–¾</span>
      </div>
    </div>
    <div class="asset-body" id="body-stocks">
      <div class="info-box blue" style="margin-bottom:16px">
        Ø§Ù„Ù‚ÙŠÙ…Ø© Ù…Ø­Ø³ÙˆØ¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©. Ù„ØªØ­Ø¯ÙŠØ«Ù‡Ø§ Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ <a href="portfolio.html" style="color:var(--accent)">ØµÙØ­Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©</a>.
      </div>
      <div id="stocks-breakdown"></div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â• 2. Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª â•â•â•â•â•â•â•â•â•â• -->
  <div class="asset-section" id="sec-properties">
    <div class="asset-header" onclick="toggleSection('properties')">
      <div class="asset-header-left">
        <span>ğŸ </span><span>Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</span>
      </div>
      <div class="asset-header-right">
        <span class="asset-total" id="properties-total">0.00 SAR</span>
        <span class="collapse-icon">â–¾</span>
      </div>
    </div>
    <div class="asset-body" id="body-properties">
      <div class="asset-row asset-row-header">
        <span>Ø§Ù„ÙˆØµÙ</span><span>Ø§Ù„Ù†ÙˆØ¹</span><span>Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³ÙˆÙ‚ÙŠØ©</span><span>Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ø³Ù†ÙˆÙŠ</span><span>Ø­Ø°Ù</span>
      </div>
      <div id="prop-rows"></div>
      <div style="display:grid;grid-template-columns:2fr 1.2fr 1.2fr 1fr auto;gap:10px;margin-top:14px;align-items:end">
        <div><input class="field-inline" id="pr-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù‚Ø§Ø± / Ø§Ù„Ù…ÙˆÙ‚Ø¹"></div>
        <div>
          <select class="field-inline" id="pr-type">
            <option>Ø´Ù‚Ø© Ø³ÙƒÙ†ÙŠØ©</option><option>ÙÙŠÙ„Ø§</option><option>Ø£Ø±Ø¶</option>
            <option>Ù…Ø­Ù„ ØªØ¬Ø§Ø±ÙŠ</option><option>Ù…Ø³ØªÙˆØ¯Ø¹</option><option>ØµÙ†Ø¯ÙˆÙ‚ Ø±ÙŠØª</option><option>Ø£Ø®Ø±Ù‰</option>
          </select>
        </div>
        <div><input class="field-inline" id="pr-value" type="number" placeholder="Ø§Ù„Ù‚ÙŠÙ…Ø© SAR"></div>
        <div><input class="field-inline" id="pr-rent"  type="number" placeholder="Ø¥ÙŠØ¬Ø§Ø± Ø³Ù†ÙˆÙŠ"></div>
        <div><button class="btn btn-primary btn-sm" onclick="addProperty()">â•</button></div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â• 3. Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª â•â•â•â•â•â•â•â•â•â• -->
  <div class="asset-section" id="sec-cars">
    <div class="asset-header" onclick="toggleSection('cars')">
      <div class="asset-header-left">
        <span>ğŸš—</span><span>Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø±ÙƒØ¨Ø§Øª</span>
      </div>
      <div class="asset-header-right">
        <span class="asset-total" id="cars-total">0.00 SAR</span>
        <span class="collapse-icon">â–¾</span>
      </div>
    </div>
    <div class="asset-body" id="body-cars">
      <div class="asset-row asset-row-header">
        <span>Ø§Ù„ÙˆØµÙ</span><span>Ø³Ù†Ø© Ø§Ù„Ø´Ø±Ø§Ø¡</span><span>Ù‚ÙŠÙ…Ø© Ø§Ù„Ø´Ø±Ø§Ø¡</span><span>Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</span><span>Ø­Ø°Ù</span>
      </div>
      <div id="cars-rows"></div>
      <div style="display:grid;grid-template-columns:2fr 1.2fr 1.2fr 1fr auto;gap:10px;margin-top:14px;align-items:end">
        <div><input class="field-inline" id="car-name"  placeholder="Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ø³ÙŠØ§Ø±Ø©"></div>
        <div><input class="field-inline" id="car-year"  type="number" placeholder="2023"></div>
        <div><input class="field-inline" id="car-cost"  type="number" placeholder="ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø±Ø§Ø¡ SAR"></div>
        <div><input class="field-inline" id="car-value" type="number" placeholder="Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© SAR"></div>
        <div><button class="btn btn-primary btn-sm" onclick="addCar()">â•</button></div>
      </div>
      <div class="depreciation-note">ğŸ’¡ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØªÙØ­Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù…Ø¹Ø¯Ù„ Ø¥Ù‡Ù„Ø§Ùƒ 15% Ø³Ù†ÙˆÙŠØ§Ù‹ Ø¥Ø°Ø§ ØªØ±ÙƒØªÙ‡Ø§ ÙØ§Ø±ØºØ©</div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â• 4. Ø§Ù„Ù†Ù‚Ø¯ ÙˆØ§Ù„Ø³ÙŠÙˆÙ„Ø© â•â•â•â•â•â•â•â•â•â• -->
  <div class="asset-section" id="sec-cash">
    <div class="asset-header" onclick="toggleSection('cash')">
      <div class="asset-header-left">
        <span>ğŸ’µ</span><span>Ø§Ù„Ù†Ù‚Ø¯ ÙˆØ§Ù„Ø³ÙŠÙˆÙ„Ø© ÙˆØ§Ù„ÙˆØ¯Ø§Ø¦Ø¹</span>
      </div>
      <div class="asset-header-right">
        <span class="asset-total" id="cash-total">0.00 SAR</span>
        <span class="collapse-icon">â–¾</span>
      </div>
    </div>
    <div class="asset-body" id="body-cash">
      <div class="asset-row asset-row-header">
        <span>Ø§Ù„ÙˆØµÙ</span><span>Ø§Ù„Ù†ÙˆØ¹</span><span>Ø§Ù„Ù…Ø¨Ù„Øº</span><span>Ø§Ù„ÙØ§Ø¦Ø¯Ø© %</span><span>Ø­Ø°Ù</span>
      </div>
      <div id="cash-rows"></div>
      <div style="display:grid;grid-template-columns:2fr 1.2fr 1.2fr 1fr auto;gap:10px;margin-top:14px;align-items:end">
        <div><input class="field-inline" id="cash-name" placeholder="Ø¨Ù†Ùƒ Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ â€” Ø­Ø³Ø§Ø¨ Ø¬Ø§Ø±ÙŠ"></div>
        <div>
          <select class="field-inline" id="cash-type">
            <option>Ø­Ø³Ø§Ø¨ Ø¬Ø§Ø±ÙŠ</option><option>Ø­Ø³Ø§Ø¨ ØªÙˆÙÙŠØ±</option>
            <option>ÙˆØ¯ÙŠØ¹Ø©</option><option>ØµÙ†Ø¯ÙˆÙ‚ Ù†Ù‚Ø¯ÙŠ</option><option>Ø£Ø®Ø±Ù‰</option>
          </select>
        </div>
        <div><input class="field-inline" id="cash-amount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº SAR"></div>
        <div><input class="field-inline" id="cash-rate"   type="number" step="0.01" placeholder="0"></div>
        <div><button class="btn btn-primary btn-sm" onclick="addCash()">â•</button></div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â• 5. Ø£ØµÙˆÙ„ Ø£Ø®Ø±Ù‰ â•â•â•â•â•â•â•â•â•â• -->
  <div class="asset-section" id="sec-other">
    <div class="asset-header" onclick="toggleSection('other')">
      <div class="asset-header-left">
        <span>ğŸ“¦</span><span>Ø£ØµÙˆÙ„ Ø£Ø®Ø±Ù‰</span>
      </div>
      <div class="asset-header-right">
        <span class="asset-total" id="other-total">0.00 SAR</span>
        <span class="collapse-icon">â–¾</span>
      </div>
    </div>
    <div class="asset-body" id="body-other">
      <div class="asset-row asset-row-header">
        <span>Ø§Ù„ÙˆØµÙ</span><span>Ø§Ù„Ù†ÙˆØ¹</span><span>Ø§Ù„Ù‚ÙŠÙ…Ø©</span><span>Ù…Ù„Ø§Ø­Ø¸Ø©</span><span>Ø­Ø°Ù</span>
      </div>
      <div id="other-rows"></div>
      <div style="display:grid;grid-template-columns:2fr 1.2fr 1.2fr 1fr auto;gap:10px;margin-top:14px;align-items:end">
        <div><input class="field-inline" id="oth-name" placeholder="Ø°Ù‡Ø¨ØŒ ØªØ­ÙØŒ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª..."></div>
        <div>
          <select class="field-inline" id="oth-type">
            <option>Ø°Ù‡Ø¨ ÙˆÙ…Ø¬ÙˆÙ‡Ø±Ø§Øª</option><option>Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option>
            <option>Ø£Ø«Ø§Ø«</option><option>Ù…Ø¹Ø¯Ø§Øª</option><option>Ø£Ø®Ø±Ù‰</option>
          </select>
        </div>
        <div><input class="field-inline" id="oth-value" type="number" placeholder="Ø§Ù„Ù‚ÙŠÙ…Ø© SAR"></div>
        <div><input class="field-inline" id="oth-note"  placeholder="Ù…Ù„Ø§Ø­Ø¸Ø©"></div>
        <div><button class="btn btn-primary btn-sm" onclick="addOther()">â•</button></div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â• 6. Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª â•â•â•â•â•â•â•â•â•â• -->
  <div class="asset-section" id="sec-liabilities">
    <div class="asset-header" onclick="toggleSection('liabilities')">
      <div class="asset-header-left">
        <span>ğŸ”´</span><span>Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª ÙˆØ§Ù„Ø¯ÙŠÙˆÙ†</span>
      </div>
      <div class="asset-header-right">
        <span class="asset-total neg" id="liabilities-total">0.00 SAR</span>
        <span class="collapse-icon">â–¾</span>
      </div>
    </div>
    <div class="asset-body" id="body-liabilities">
      <div class="liability-row asset-row-header">
        <span>Ø§Ù„ÙˆØµÙ</span><span>Ø§Ù„Ù†ÙˆØ¹</span><span>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙƒÙ„ÙŠ</span>
        <span>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</span><span>Ø§Ù„ÙØ§Ø¦Ø¯Ø© %</span><span>Ø­Ø°Ù</span>
      </div>
      <div id="liab-rows"></div>
      <div style="display:grid;grid-template-columns:2fr 1.2fr 1.2fr 1fr 1fr auto;gap:10px;margin-top:14px;align-items:end">
        <div><input class="field-inline" id="liab-name"  placeholder="Ù‚Ø±Ø¶ Ø³ÙŠØ§Ø±Ø© â€” Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ"></div>
        <div>
          <select class="field-inline" id="liab-type">
            <option>Ù‚Ø±Ø¶ Ø´Ø®ØµÙŠ</option><option>Ù‚Ø±Ø¶ Ø¹Ù‚Ø§Ø±ÙŠ</option>
            <option>Ù‚Ø±Ø¶ Ø³ÙŠØ§Ø±Ø©</option><option>Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†</option>
            <option>ØªÙ…ÙˆÙŠÙ„ ØªØ¬Ø§Ø±ÙŠ</option><option>Ø£Ø®Ø±Ù‰</option>
          </select>
        </div>
        <div><input class="field-inline" id="liab-total"   type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙƒÙ„ÙŠ SAR"></div>
        <div><input class="field-inline" id="liab-remain"  type="number" placeholder="Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ SAR"></div>
        <div><input class="field-inline" id="liab-rate"    type="number" step="0.01" placeholder="0"></div>
        <div><button class="btn btn-danger btn-sm" onclick="addLiability()">â•</button></div>
      </div>
    </div>
  </div>

</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  State â€” load from session or defaults
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const NW = Store.load('networth_full_v1', {
  properties:  [],
  cars:        [],
  cash:        [],
  other:       [],
  liabilities: [],
});

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Calculated from portfolio (live)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getPortfolioValue() {
  const port = Store.load('portfolio_v1', APP.portfolio);
  return port.reduce((s,p) => s + p.qty * p.current_price, 0);
}

function getPortfolioCost() {
  const port = Store.load('portfolio_v1', APP.portfolio);
  return port.reduce((s,p) => s + p.qty * p.avg_cost, 0);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Depreciation
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function carCurrentValue(car) {
  if (car.current_value && car.current_value > 0) return car.current_value;
  const years = new Date().getFullYear() - (car.year || new Date().getFullYear());
  return car.cost * Math.pow(0.85, Math.max(years, 0));
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Totals
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function totals() {
  const stocks     = getPortfolioValue();
  const properties = NW.properties.reduce((s,p) => s + (p.value||0), 0);
  const cars       = NW.cars.reduce((s,c) => s + carCurrentValue(c), 0);
  const cash       = NW.cash.reduce((s,c) => s + (c.amount||0), 0);
  const other      = NW.other.reduce((s,o) => s + (o.value||0), 0);
  const liabilities= NW.liabilities.reduce((s,l) => s + (l.remain||l.total||0), 0);
  const totalAssets= stocks + properties + cars + cash + other;
  const netWorth   = totalAssets - liabilities;
  return { stocks, properties, cars, cash, other, liabilities, totalAssets, netWorth };
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Render Summary
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let chartAssets = null, chartLiab = null;

function renderSummary() {
  const t = totals();
  const target = APP.settings.targetCapital;
  const pct    = Math.min((t.netWorth / target) * 100, 100);
  const leverage = t.totalAssets > 0 ? (t.liabilities / t.totalAssets * 100) : 0;

  document.getElementById('nwSummary').innerHTML = `
    <div>
      <div class="nw-label">ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</div>
      <div class="nw-main-value">${H.fmt(t.netWorth)} SAR</div>
      <div style="margin-top:8px;font-size:13px;color:var(--text3)">
        Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ØµÙˆÙ„: <span class="pos">${H.fmt(t.totalAssets)}</span> â€”
        Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª: <span class="neg">${H.fmt(t.liabilities)}</span>
      </div>
      <div class="progress-row" style="margin-top:12px">
        <span style="font-size:12px;color:var(--text3);white-space:nowrap">Ù‡Ø¯Ù ${H.fmt(target)} SAR</span>
        <div class="prog-bar-bg">
          <div class="prog-bar-fill" style="width:${pct}%"></div>
        </div>
        <span style="font-size:13px;font-weight:700;color:var(--accent);white-space:nowrap">${pct.toFixed(1)}%</span>
      </div>
    </div>
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:20px;text-align:center">
      <div>
        <div style="font-size:11px;color:var(--text3);margin-bottom:4px">Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø§ÙØ¹Ø©</div>
        <div style="font-size:20px;font-weight:800;color:${leverage>30?'var(--red)':'var(--yellow)'}">${leverage.toFixed(1)}%</div>
        <div style="font-size:11px;color:var(--text3)">Ø¯ÙŠÙ†/Ø£ØµÙˆÙ„</div>
      </div>
      <div>
        <div style="font-size:11px;color:var(--text3);margin-bottom:4px">Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø©</div>
        <div style="font-size:20px;font-weight:800;color:var(--green)">${H.fmt((t.stocks + t.properties)/t.totalAssets*100||0,1)}%</div>
        <div style="font-size:11px;color:var(--text3)">Ø£Ø³Ù‡Ù… + Ø¹Ù‚Ø§Ø±</div>
      </div>
      <div>
        <div style="font-size:11px;color:var(--text3);margin-bottom:4px">Ø³Ù†ÙˆØ§Øª Ù„Ù„Ù‡Ø¯Ù</div>
        <div style="font-size:20px;font-weight:800;color:var(--accent)">${APP.settings.retirementYear - new Date().getFullYear()}</div>
        <div style="font-size:11px;color:var(--text3)">${APP.settings.retirementYear}</div>
      </div>
    </div>
  `;

  // KPIs
  document.getElementById('nwKPIs').innerHTML = `
    <div class="kpi-card">
      <div class="kpi-icon">ğŸ’¹</div>
      <div class="kpi-label">Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø£Ø³Ù‡Ù…</div>
      <div class="kpi-value accent">${H.fmt(t.stocks)}</div>
      <div class="kpi-sub">${H.fmt(t.stocks/t.totalAssets*100||0,1)}% Ù…Ù† Ø§Ù„Ø£ØµÙˆÙ„</div>
    </div>
    <div class="kpi-card">
      <div class="kpi-icon">ğŸ </div>
      <div class="kpi-label">Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</div>
      <div class="kpi-value">${H.fmt(t.properties)}</div>
      <div class="kpi-sub">${H.fmt(t.properties/t.totalAssets*100||0,1)}% Ù…Ù† Ø§Ù„Ø£ØµÙˆÙ„</div>
    </div>
    <div class="kpi-card">
      <div class="kpi-icon">ğŸ’µ</div>
      <div class="kpi-label">Ø§Ù„Ù†Ù‚Ø¯ ÙˆØ§Ù„Ø³ÙŠÙˆÙ„Ø©</div>
      <div class="kpi-value pos">${H.fmt(t.cash)}</div>
      <div class="kpi-sub">${H.fmt(t.cash/t.totalAssets*100||0,1)}% Ù…Ù† Ø§Ù„Ø£ØµÙˆÙ„</div>
    </div>
    <div class="kpi-card">
      <div class="kpi-icon">ğŸ”´</div>
      <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª</div>
      <div class="kpi-value neg">${H.fmt(t.liabilities)}</div>
      <div class="kpi-sub">Ù†Ø³Ø¨Ø© ${H.fmt(leverage,1)}% Ù…Ù† Ø§Ù„Ø£ØµÙˆÙ„</div>
    </div>
  `;

  // Doughnut
  if (chartAssets) chartAssets.destroy();
  chartAssets = new Chart(document.getElementById('assetsChart'), {
    type: 'doughnut',
    data: {
      labels: ['Ø§Ù„Ø£Ø³Ù‡Ù…','Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª','Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª','Ø§Ù„Ù†Ù‚Ø¯','Ø£Ø®Ø±Ù‰'],
      datasets:[{
        data: [t.stocks, t.properties, t.cars, t.cash, t.other],
        backgroundColor:['#4f8ef7','#22c55e','#f59e0b','#a78bfa','#06b6d4'],
        borderColor:'#131722', borderWidth:2
      }]
    },
    options:{
      responsive:true, maintainAspectRatio:false,
      plugins:{
        legend:{ position:'right', labels:{color:'#94a3b8',font:{size:11},padding:10,boxWidth:12} },
        tooltip:{ callbacks:{ label: ctx=>`${H.fmt(ctx.raw)} SAR` } }
      }
    }
  });

  // Bar Assets vs Liabilities
  if (chartLiab) chartLiab.destroy();
  chartLiab = new Chart(document.getElementById('liabChart'), {
    type: 'bar',
    data: {
      labels: ['Ø§Ù„Ø£Ø³Ù‡Ù…','Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª','Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª','Ø§Ù„Ù†Ù‚Ø¯','Ø£Ø®Ø±Ù‰','Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª'],
      datasets:[{
        label:'SAR',
        data: [t.stocks, t.properties, t.cars, t.cash, t.other, -t.liabilities],
        backgroundColor:['#4f8ef7','#22c55e','#f59e0b','#a78bfa','#06b6d4','#ef4444'],
        borderRadius:4
      }]
    },
    options:{
      responsive:true, maintainAspectRatio:false,
      plugins:{ legend:{display:false} },
      scales:{
        x:{ ticks:{color:'#64748b',font:{size:11}}, grid:{color:'#1e2340'} },
        y:{ ticks:{color:'#64748b'}, grid:{color:'#1e2340'} }
      }
    }
  });

  // Update section totals
  document.getElementById('stocks-total').textContent      = H.fmt(t.stocks)      + ' SAR';
  document.getElementById('properties-total').textContent  = H.fmt(t.properties)  + ' SAR';
  document.getElementById('cars-total').textContent        = H.fmt(t.cars)        + ' SAR';
  document.getElementById('cash-total').textContent        = H.fmt(t.cash)        + ' SAR';
  document.getElementById('other-total').textContent       = H.fmt(t.other)       + ' SAR';
  document.getElementById('liabilities-total').textContent = H.fmt(t.liabilities) + ' SAR';
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Render Stocks Breakdown
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderStocks() {
  const port = Store.load('portfolio_v1', APP.portfolio);
  const totalMkt = port.reduce((s,p) => s + p.qty * p.current_price, 0);

  // Group by sector
  const sectors = {};
  port.forEach(p => {
    const v = p.qty * p.current_price;
    sectors[p.sector] = (sectors[p.sector]||0) + v;
  });

  document.getElementById('stocks-breakdown').innerHTML = `
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px">
      ${Object.entries(sectors).map(([sec,val]) => `
        <div style="padding:12px 16px;background:var(--bg2);border:1px solid var(--border);border-radius:8px">
          <div style="font-size:12px;color:var(--text3);margin-bottom:4px">${sec}</div>
          <div style="font-size:15px;font-weight:700;color:var(--accent)">${H.fmt(val)} SAR</div>
          <div style="font-size:11px;color:var(--text3)">${(val/totalMkt*100).toFixed(1)}%</div>
        </div>
      `).join('')}
    </div>
    <div style="margin-top:12px;padding:10px 14px;background:var(--bg2);border-radius:8px;font-size:13px">
      Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <strong class="accent">${H.fmt(totalMkt)} SAR</strong> â€”
      Ø§Ù„ØªÙƒÙ„ÙØ©: <strong>${H.fmt(getPortfolioCost())} SAR</strong> â€”
      Ø±/Ø®: <strong class="${totalMkt-getPortfolioCost()>=0?'pos':'neg'}">${H.fmt(totalMkt-getPortfolioCost())} SAR</strong>
    </div>
  `;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Render Rows Helpers
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderProperties() {
  document.getElementById('prop-rows').innerHTML = NW.properties.map((p,i) => `
    <div class="asset-row">
      <span style="font-weight:600">${p.name}</span>
      <span style="color:var(--text3)">${p.type}</span>
      <span class="pos">${H.fmt(p.value)} SAR</span>
      <span style="color:var(--text3)">${p.rent ? H.fmt(p.rent)+' SAR' : 'â€”'}</span>
      <button class="btn btn-danger btn-sm" onclick="del('properties',${i})">ğŸ—‘</button>
    </div>
  `).join('') || '<div class="empty-state" style="padding:20px"><p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø§Ø±Ø§Øª Ù…Ø³Ø¬Ù„Ø©</p></div>';
}

function renderCars() {
  document.getElementById('cars-rows').innerHTML = NW.cars.map((c,i) => `
    <div class="asset-row">
      <span style="font-weight:600">${c.name}</span>
      <span style="color:var(--text3)">${c.year||'â€”'}</span>
      <span style="color:var(--text3)">${H.fmt(c.cost)} SAR</span>
      <span class="pos">${H.fmt(carCurrentValue(c))} SAR</span>
      <button class="btn btn-danger btn-sm" onclick="del('cars',${i})">ğŸ—‘</button>
    </div>
  `).join('') || '<div class="empty-state" style="padding:20px"><p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³ÙŠØ§Ø±Ø§Øª Ù…Ø³Ø¬Ù„Ø©</p></div>';
}

function renderCash() {
  document.getElementById('cash-rows').innerHTML = NW.cash.map((c,i) => `
    <div class="asset-row">
      <span style="font-weight:600">${c.name}</span>
      <span style="color:var(--text3)">${c.type}</span>
      <span class="pos">${H.fmt(c.amount)} SAR</span>
      <span style="color:var(--text3)">${c.rate ? c.rate+'%' : 'â€”'}</span>
      <button class="btn btn-danger btn-sm" onclick="del('cash',${i})">ğŸ—‘</button>
    </div>
  `).join('') || '<div class="empty-state" style="padding:20px"><p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³ÙŠÙˆÙ„Ø© Ù…Ø³Ø¬Ù„Ø©</p></div>';
}

function renderOther() {
  document.getElementById('other-rows').innerHTML = NW.other.map((o,i) => `
    <div class="asset-row">
      <span style="font-weight:600">${o.name}</span>
      <span style="color:var(--text3)">${o.type}</span>
      <span class="pos">${H.fmt(o.value)} SAR</span>
      <span style="color:var(--text3)">${o.note||'â€”'}</span>
      <button class="btn btn-danger btn-sm" onclick="del('other',${i})">ğŸ—‘</button>
    </div>
  `).join('') || '<div class="empty-state" style="padding:20px"><p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ØµÙˆÙ„ Ø£Ø®Ø±Ù‰</p></div>';
}

function renderLiabilities() {
  document.getElementById('liab-rows').innerHTML = NW.liabilities.map((l,i) => `
    <div class="liability-row">
      <span style="font-weight:600">${l.name}</span>
      <span style="color:var(--text3)">${l.type}</span>
      <span style="color:var(--text3)">${H.fmt(l.total)} SAR</span>
      <span class="neg">${H.fmt(l.remain||l.total)} SAR</span>
      <span style="color:var(--text3)">${l.rate ? l.rate+'%' : 'â€”'}</span>
      <button class="btn btn-danger btn-sm" onclick="del('liabilities',${i})">ğŸ—‘</button>
    </div>
  `).join('') || '<div class="empty-state" style="padding:20px"><p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ù„ØªØ²Ø§Ù…Ø§Øª Ù…Ø³Ø¬Ù„Ø© ğŸ‰</p></div>';
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Add Helpers
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function addProperty() {
  const name  = document.getElementById('pr-name').value.trim();
  const type  = document.getElementById('pr-type').value;
  const value = parseFloat(document.getElementById('pr-value').value)||0;
  const rent  = parseFloat(document.getElementById('pr-rent').value)||0;
  if (!name || !value) return toast('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ù‚ÙŠÙ…Ø©','error');
  NW.properties.push({ name, type, value, rent });
  ['pr-name','pr-value','pr-rent'].forEach(id=>document.getElementById(id).value='');
  refreshAll(); toast('âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©','success');
}

function addCar() {
  const name  = document.getElementById('car-name').value.trim();
  const year  = parseInt(document.getElementById('car-year').value)||new Date().getFullYear();
  const cost  = parseFloat(document.getElementById('car-cost').value)||0;
  const cv    = parseFloat(document.getElementById('car-value').value)||0;
  if (!name || !cost) return toast('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØªÙƒÙ„ÙØ©','error');
  NW.cars.push({ name, year, cost, current_value: cv });
  ['car-name','car-year','car-cost','car-value'].forEach(id=>document.getElementById(id).value='');
  refreshAll(); toast('âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©','success');
}

function addCash() {
  const name   = document.getElementById('cash-name').value.trim();
  const type   = document.getElementById('cash-type').value;
  const amount = parseFloat(document.getElementById('cash-amount').value)||0;
  const rate   = parseFloat(document.getElementById('cash-rate').value)||0;
  if (!name || !amount) return toast('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ù…Ø¨Ù„Øº','error');
  NW.cash.push({ name, type, amount, rate });
  ['cash-name','cash-amount','cash-rate'].forEach(id=>document.getElementById(id).value='');
  refreshAll(); toast('âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©','success');
}

function addOther() {
  const name  = document.getElementById('oth-name').value.trim();
  const type  = document.getElementById('oth-type').value;
  const value = parseFloat(document.getElementById('oth-value').value)||0;
  const note  = document.getElementById('oth-note').value.trim();
  if (!name || !value) return toast('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ù‚ÙŠÙ…Ø©','error');
  NW.other.push({ name, type, value, note });
  ['oth-name','oth-value','oth-note'].forEach(id=>document.getElementById(id).value='');
  refreshAll(); toast('âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©','success');
}

function addLiability() {
  const name   = document.getElementById('liab-name').value.trim();
  const type   = document.getElementById('liab-type').value;
  const total  = parseFloat(document.getElementById('liab-total').value)||0;
  const remain = parseFloat(document.getElementById('liab-remain').value)||total;
  const rate   = parseFloat(document.getElementById('liab-rate').value)||0;
  if (!name || !total) return toast('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ù…Ø¨Ù„Øº','error');
  NW.liabilities.push({ name, type, total, remain, rate });
  ['liab-name','liab-total','liab-remain','liab-rate'].forEach(id=>document.getElementById(id).value='');
  refreshAll(); toast('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…','warn');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Delete
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function del(section, idx) {
  if (!confirm('Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ±ØŸ')) return;
  NW[section].splice(idx, 1);
  refreshAll(); toast('ğŸ—‘ ØªÙ… Ø§Ù„Ø­Ø°Ù','warn');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Toggle Collapse
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleSection(id) {
  const sec = document.getElementById(`sec-${id}`);
  sec.classList.toggle('collapsed');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Save
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function saveAll() {
  Store.save('networth_full_v1', NW);
  toast('âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø§Ù„ÙƒØ§Ù…Ù„','success');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Print
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function exportPDF() {
  window.print();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Refresh All
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function refreshAll() {
  renderStocks();
  renderProperties();
  renderCars();
  renderCash();
  renderOther();
  renderLiabilities();
  renderSummary();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Init
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
refreshAll();
</script>
</body>
</html>
